<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Now Then</title>

    <link href="styles/styles.css" rel="stylesheet">

    <style>
        body {
            background: url('media/earth.jpg') no-repeat center center fixed;
            background-size: cover;
        }
    </style>
    <script>
        // Check URL params for a right-sidebar hide flag and inject CSS to hide it.
        (function() {
            try {
                const params = new URLSearchParams(window.location.search);
                const hide = params.has('hidebar');

                if (hide) {
                    const css = `
                        .now-next-container { display: none !important; }
                        main.container { grid-template-columns: 1fr !important; }
                        .left { width: 100% !important; }
                    `;
                    const style = document.createElement('style');
                    style.setAttribute('data-generated', 'hide-right-sidebar');
                    style.appendChild(document.createTextNode(css));
                    document.head.appendChild(style);
                }
            } catch (e) {
                console.warn('hide-right-sidebar script failed', e);
            }
        })();
    </script>
</head>

<body>

    <main class="container">
        <div class="left">
            <div class="logo-block">
                <img src="https://placehold.co/256x256/blue/white/png" alt="">
                <div class="logo-meta">
                    <div class="logo-title">
                        Open Source<br>
                        CubeSat Workshop 2025
                    </div>
                    <a href="https://oscw.space" class="logo-link">https://oscw.space</a>
                </div>
            </div>

            <div class="now-playing" id="now-playing" style="display:none;">
                <h3>Now Playing</h3>
                <div class="track-title" id="music.title">Opoulos</div>
                <div class="artist" id="music.artist">Bambis Spaceopoulos</div>
                <div class="license" id="music.license">License: No licenses here</div>
                <a class="track-link" id="music.link" href="https://example.com">
                    https://example.com
                </a>
            </div>
        </div>

        <div class="now-next-container">
            <div class="session now" id="now">
                <div class="session-header">
                    <h2>Now</h2>
                    <div class="session-time" id="now.time">11:00 – 11:20</div>
                </div>
                <div class="session-title" id="now.title">
                    The Title Of The Talk Or Lightning Talk Or Workshop
                </div>
                <div class="session-speaker" id="now.speaker">Firstnamepoulos Lastnamepoulos</div>
            </div>

            <div class="session next" id="next">
                <div class="session-header">
                    <h2>Next</h2>
                    <div class="session-time" id="next.time">11:20 – 11:40</div>
                </div>
                <div class="session-title" id="next.title">
                    The Title Of The Talk Or Lightning Talk Or Workshop
                </div>
                <div class="session-speaker" id="next.speaker">Firstnamepoulos Lastnamepoulos</div>
            </div>
        </div>
    </main>

    <script src="assets/gsap.min.js"></script>
    <script src="assets/TextPlugin.min.js"></script>
    <script src="js/main.js"></script>

    <script>
        const intervalMs = params.has("interval") ? parseInt(params.get("interval"), 10) : 5000;

        setupOntimePoll();
    </script>

</body>

</html>